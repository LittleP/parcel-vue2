{"version":3,"file":"browser.min.js","sources":["index.js"],"sourcesContent":["var SINGLE_TAGS = [\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'menuitem',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr',\n  // Custom (PostHTML)\n  'import',\n  'include',\n  'extend',\n  'component'\n]\n\n/**\n * Render PostHTML Tree to HTML\n *\n * @param  {Array|Object} tree PostHTML Tree\n * @param  {Object} options Options\n *\n * @return {String} HTML\n */\nfunction render (tree, options) {\n  /**\n   * Options\n   *\n   * @type {Object}\n   *\n   * @prop {Array<String|RegExp>} singleTags  Custom single tags (selfClosing)\n   * @prop {String} closingSingleTag Closing format for single tag\n   *\n   * Formats:\n   *\n   * ``` tag: `<br></br>` ```, slash: `<br />` ```, ```default: `<br>` ```\n   */\n  options = options || {}\n\n  var singleTags = SINGLE_TAGS.concat(options.singleTags || [])\n  var singleRegExp = singleTags.filter(function (tag) {\n    return tag instanceof RegExp ? tag : false\n  })\n\n  var closingSingleTag = options.closingSingleTag\n\n  return html(tree)\n\n  /**\n   * HTML Stringifier\n   *\n   * @param  {Array|Object} tree PostHTML Tree\n   *\n   * @return {String} result HTML\n   */\n  function html (tree) {\n    var result = ''\n\n    traverse([].concat(tree), function (node) {\n      if (!node) return\n\n      if (typeof node === 'string' || typeof node === 'number') {\n        result += node\n\n        return\n      }\n\n      if (typeof node.tag === 'boolean' && !node.tag) {\n        typeof node.content !== 'object' && (result += node.content)\n\n        return node.content\n      }\n\n      // treat as new root tree if node is an array\n      if (Array.isArray(node)) {\n        result += html(node)\n\n        return\n      }\n\n      var tag = node.tag || 'div'\n\n      if (isSingleTag(tag, singleTags, singleRegExp)) {\n        result += '<' + tag + attrs(node.attrs)\n\n        switch (closingSingleTag) {\n          case 'tag':\n            result += '></' + tag + '>'\n\n            break\n          case 'slash':\n            result += ' />'\n\n            break\n          default:\n            result += '>'\n        }\n      } else {\n        result += '<' + tag + (node.attrs ? attrs(node.attrs) : '') + '>' + (node.content ? html(node.content) : '') + '</' + tag + '>'\n      }\n    })\n\n    return result\n  }\n}\n\n/**\n * @module posthtml-render\n *\n * @version 1.0.7\n * @license MIT\n */\nmodule.exports = render\n\n/** @private */\nfunction attrs (obj) {\n  var attr = ''\n\n  for (var key in obj) {\n    if (typeof obj[key] === 'boolean' && obj[key]) {\n      attr += ' ' + key\n    } else if (\n      typeof obj[key] === 'string' ||\n      typeof obj[key] === 'number'\n    ) {\n      attr += ' ' + key + '=\"' + obj[key] + '\"'\n    }\n  }\n\n  return attr\n}\n\n/** @private */\nfunction traverse (tree, cb) {\n  if (Array.isArray(tree)) {\n    for (var i = 0, length = tree.length; i < length; i++) {\n      traverse(cb(tree[i]), cb)\n    }\n  } else if (typeof tree === 'object' && tree.hasOwnProperty('content')) {\n    traverse(tree.content, cb)\n  }\n\n  return tree\n}\n\n/** @private */\nfunction isSingleTag (tag, singleTags, singleRegExp) {\n  if (singleRegExp.length) {\n    for (var i = 0; i < singleRegExp.length; i++) {\n      return !!tag.match(singleRegExp[i])\n    }\n  }\n\n  if (singleTags.indexOf(tag) === -1) {\n    return false\n  }\n\n  return true\n}\n"],"names":["SINGLE_TAGS","attrs","obj","attr","key","tree","options","singleTags","concat","singleRegExp","filter","tag","RegExp","closingSingleTag","html","result","traverse","cb","Array","isArray","i","length","hasOwnProperty","content","node","match","indexOf","isSingleTag"],"mappings":"mCAAA,IAAIA,GACF,OACA,OACA,KACA,MACA,UACA,QACA,KACA,MACA,QACA,SACA,OACA,WACA,OACA,QACA,SACA,QACA,MAEA,SACA,UACA,SACA,aAsGF,SAASC,EAAOC,GACd,IAAIC,EAAO,GAEX,IAAK,IAAIC,KAAOF,EACU,kBAAbA,EAAIE,IAAsBF,EAAIE,GACvCD,GAAQ,IAAMC,EAEM,iBAAbF,EAAIE,IACS,iBAAbF,EAAIE,KAEXD,GAAQ,IAAMC,EAAM,KAAOF,EAAIE,GAAO,KAI1C,OAAOD,SAzGT,SAAiBE,EAAMC,GAarBA,EAAUA,MAEV,IAAIC,EAAaP,EAAYQ,OAAOF,EAAQC,gBACxCE,EAAeF,EAAWG,OAAO,SAAUC,GAC7C,OAAOA,aAAeC,QAASD,IAG7BE,EAAmBP,EAAQO,iBAE/B,OASA,SAASC,EAAMT,GACb,IAAIU,EAAS,GA8Cb,OA+BJ,SAASC,EAAUX,EAAMY,GACvB,GAAIC,MAAMC,QAAQd,GAChB,IAAK,IAAIe,EAAI,EAAGC,EAAShB,EAAKgB,OAAQD,EAAIC,EAAQD,IAChDJ,EAASC,EAAGZ,EAAKe,IAAKH,OAEC,iBAATZ,GAAqBA,EAAKiB,eAAe,YACzDN,EAASX,EAAKkB,QAASN,GAGzB,OAAOZ,EApFLW,IAAYR,OAAOH,GAAO,SAAUmB,GAClC,GAAKA,EAEL,GAAoB,iBAATA,GAAqC,iBAATA,EAAvC,CAMA,GAAwB,kBAAbA,EAAKb,MAAsBa,EAAKb,IAGzC,MAFwB,iBAAjBa,EAAKD,UAAyBR,GAAUS,EAAKD,SAE7CC,EAAKD,QAId,GAAIL,MAAMC,QAAQK,GAChBT,GAAUD,EAAKU,OADjB,CAMA,IAAIb,EAAMa,EAAKb,KAAO,MAEtB,GAgEN,SAAsBA,EAAKJ,EAAYE,GACrC,GAAIA,EAAaY,OACf,IAAK,IAAID,EAAI,EAAGA,EAAIX,EAAaY,OAAQD,IACvC,QAAST,EAAIc,MAAMhB,EAAaW,IAIpC,OAAiC,IAA7Bb,EAAWmB,QAAQf,GAvEfgB,CAAYhB,EAAKJ,EAAYE,GAG/B,OAFAM,GAAU,IAAMJ,EAAMV,EAAMuB,EAAKvB,OAEzBY,GACN,IAAK,MACHE,GAAU,MAAQJ,EAAM,IAExB,MACF,IAAK,QACHI,GAAU,MAEV,MACF,QACEA,GAAU,SAGdA,GAAU,IAAMJ,GAAOa,EAAKvB,MAAQA,EAAMuB,EAAKvB,OAAS,IAAM,KAAOuB,EAAKD,QAAUT,EAAKU,EAAKD,SAAW,IAAM,KAAOZ,EAAM,UApC5HI,GAAUS,IAwCPT,EAxDFD,CAAKT"}